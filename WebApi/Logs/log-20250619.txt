2025-06-19 16:55:20.336 +02:00 [INF] Now listening on: http://localhost:5000
2025-06-19 16:55:20.375 +02:00 [INF] Now listening on: https://localhost:5001
2025-06-19 16:55:20.380 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-19 16:55:20.381 +02:00 [INF] Hosting environment: Production
2025-06-19 16:55:20.381 +02:00 [INF] Content root path: /Users/marcinmistela/RiderProjects/Booking/Booking/WebApi/
2025-06-19 16:55:35.803 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/swagger - -
2025-06-19 16:55:35.941 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/swagger - - - 301 0 - 143.4474ms
2025-06-19 16:55:35.972 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/swagger/index.html - -
2025-06-19 16:55:36.416 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 444.3038ms
2025-06-19 16:55:36.500 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/swagger/swagger-ui.css - -
2025-06-19 16:55:36.761 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/swagger/swagger-ui-bundle.js - -
2025-06-19 16:55:36.761 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/swagger/swagger-ui-standalone-preset.js - -
2025-06-19 16:55:36.897 +02:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2025-06-19 16:55:36.902 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/swagger/swagger-ui-standalone-preset.js - - - 200 312163 application/javascript 140.6210ms
2025-06-19 16:55:36.936 +02:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2025-06-19 16:55:36.937 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/swagger/swagger-ui.css - - - 200 144929 text/css 437.8073ms
2025-06-19 16:55:36.958 +02:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2025-06-19 16:55:36.958 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/swagger/swagger-ui-bundle.js - - - 200 1061536 application/javascript 197.5238ms
2025-06-19 16:55:38.269 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/swagger/v1/swagger.json - -
2025-06-19 16:55:38.723 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/swagger/favicon-32x32.png - -
2025-06-19 16:55:38.724 +02:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2025-06-19 16:55:38.724 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/swagger/favicon-32x32.png - - - 200 628 image/png 1.4677ms
2025-06-19 16:55:38.726 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/swagger/favicon-16x16.png - -
2025-06-19 16:55:38.727 +02:00 [INF] Sending file. Request path: '/favicon-16x16.png'. Physical path: 'N/A'
2025-06-19 16:55:38.727 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/swagger/favicon-16x16.png - - - 200 665 image/png 0.9579ms
2025-06-19 16:55:39.498 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 1229.0157ms
2025-06-19 16:55:46.927 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/reservations - -
2025-06-19 16:55:46.957 +02:00 [INF] Executing endpoint 'Booking.WebApi.Controllers.ReservationsController.GetAll (WebApi)'
2025-06-19 16:55:47.043 +02:00 [INF] Route matched with {action = "GetAll", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Booking.WebApi.Controllers.ReservationsController (WebApi).
2025-06-19 16:55:50.792 +02:00 [ERR] Failed executing DbCommand (29ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."AppointmentSlotId", "r"."ReservedAt", "r"."ServiceId", "r"."UserId"
FROM "Reservations" AS "r"
2025-06-19 16:55:50.870 +02:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Booking.Infrastructure.Data.AppDbContext'.
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such table: Reservations'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such table: Reservations'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-06-19 16:55:50.886 +02:00 [INF] Executed action Booking.WebApi.Controllers.ReservationsController.GetAll (WebApi) in 3834.7815ms
2025-06-19 16:55:50.888 +02:00 [INF] Executed endpoint 'Booking.WebApi.Controllers.ReservationsController.GetAll (WebApi)'
2025-06-19 16:55:50.894 +02:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such table: Reservations'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Booking.Infrastructure.Repositories.Repository`1.GetAllAsync() in /Users/marcinmistela/RiderProjects/Booking/Booking/Infrastructure/Repositories/Repository.cs:line 20
   at Booking.WebApi.Controllers.ReservationsController.GetAll() in /Users/marcinmistela/RiderProjects/Booking/Booking/WebApi/Controllers/ReservationsController.cs:line 18
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2025-06-19 16:55:50.944 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/reservations - - - 500 - text/plain;+charset=utf-8 4017.3001ms
2025-06-19 16:58:52.350 +02:00 [INF] Application is shutting down...
2025-06-19 17:05:30.210 +02:00 [INF] Entity Framework Core 6.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2025-06-19 17:06:34.094 +02:00 [INF] Entity Framework Core 6.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2025-06-19 17:06:34.427 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2025-06-19 17:06:34.571 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "__EFMigrationsHistory" (
    "MigrationId" TEXT NOT NULL CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY,
    "ProductVersion" TEXT NOT NULL
);
2025-06-19 17:06:34.573 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2025-06-19 17:06:34.576 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-06-19 17:06:34.597 +02:00 [INF] Applying migration '20250619150530_InitialCreate'.
2025-06-19 17:06:34.647 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Services" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_Services" PRIMARY KEY AUTOINCREMENT,
    "Name" TEXT NOT NULL,
    "Description" TEXT NOT NULL,
    "DurationMinutes" INTEGER NOT NULL,
);
2025-06-19 17:06:34.647 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Users" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_Users" PRIMARY KEY AUTOINCREMENT,
    "Username" TEXT NOT NULL,
    "Email" TEXT NOT NULL,
    "PasswordHash" TEXT NOT NULL,
    "FullName" TEXT NOT NULL,
    "Role" TEXT NOT NULL
);
2025-06-19 17:06:34.647 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AppointmentSlots" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_AppointmentSlots" PRIMARY KEY AUTOINCREMENT,
    "ServiceId" INTEGER NOT NULL,
    "StartTime" TEXT NOT NULL,
    "EndTime" TEXT NOT NULL,
    "IsReserved" INTEGER NOT NULL,
    CONSTRAINT "FK_AppointmentSlots_Services_ServiceId" FOREIGN KEY ("ServiceId") REFERENCES "Services" ("Id") ON DELETE CASCADE
);
2025-06-19 17:06:34.647 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Reservations" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_Reservations" PRIMARY KEY AUTOINCREMENT,
    "UserId" INTEGER NOT NULL,
    "ServiceId" INTEGER NOT NULL,
    "AppointmentSlotId" INTEGER NOT NULL,
    "ReservedAt" TEXT NOT NULL,
    CONSTRAINT "FK_Reservations_AppointmentSlots_AppointmentSlotId" FOREIGN KEY ("AppointmentSlotId") REFERENCES "AppointmentSlots" ("Id") ON DELETE RESTRICT,
    CONSTRAINT "FK_Reservations_Services_ServiceId" FOREIGN KEY ("ServiceId") REFERENCES "Services" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_Reservations_Users_UserId" FOREIGN KEY ("UserId") REFERENCES "Users" ("Id") ON DELETE CASCADE
);
2025-06-19 17:06:34.647 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_AppointmentSlots_ServiceId" ON "AppointmentSlots" ("ServiceId");
2025-06-19 17:06:34.647 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Reservations_AppointmentSlotId" ON "Reservations" ("AppointmentSlotId");
2025-06-19 17:06:34.648 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Reservations_ServiceId" ON "Reservations" ("ServiceId");
2025-06-19 17:06:34.648 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Reservations_UserId" ON "Reservations" ("UserId");
2025-06-19 17:06:34.648 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250619150530_InitialCreate', '6.0.0');
2025-06-19 17:08:07.970 +02:00 [INF] Now listening on: http://localhost:5000
2025-06-19 17:08:08.015 +02:00 [INF] Now listening on: https://localhost:5001
2025-06-19 17:08:08.019 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-19 17:08:08.019 +02:00 [INF] Hosting environment: Production
2025-06-19 17:08:08.019 +02:00 [INF] Content root path: /Users/marcinmistela/RiderProjects/Booking/Booking/WebApi/
2025-06-19 17:08:48.637 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/swagger/index.html - -
2025-06-19 17:08:48.913 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 279.3581ms
2025-06-19 17:08:49.832 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/swagger/v1/swagger.json - -
2025-06-19 17:08:50.068 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 235.9180ms
2025-06-19 17:08:56.222 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/reservations - -
2025-06-19 17:08:56.232 +02:00 [INF] Executing endpoint 'Booking.WebApi.Controllers.ReservationsController.GetAll (WebApi)'
2025-06-19 17:08:56.286 +02:00 [INF] Route matched with {action = "GetAll", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Booking.WebApi.Controllers.ReservationsController (WebApi).
2025-06-19 17:08:57.377 +02:00 [INF] Entity Framework Core 6.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2025-06-19 17:08:57.802 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."AppointmentSlotId", "r"."ReservedAt", "r"."ServiceId", "r"."UserId"
FROM "Reservations" AS "r"
2025-06-19 17:08:57.827 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Booking.Domain.Entities.Reservation, Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-19 17:08:57.866 +02:00 [INF] Executed action Booking.WebApi.Controllers.ReservationsController.GetAll (WebApi) in 1570.9597ms
2025-06-19 17:08:57.866 +02:00 [INF] Executed endpoint 'Booking.WebApi.Controllers.ReservationsController.GetAll (WebApi)'
2025-06-19 17:08:57.881 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/reservations - - - 200 - application/json;+charset=utf-8 1658.6063ms
2025-06-19 17:09:11.904 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:5001/api/reservations application/json 61
2025-06-19 17:09:11.909 +02:00 [INF] Executing endpoint 'Booking.WebApi.Controllers.ReservationsController.Create (WebApi)'
2025-06-19 17:09:11.945 +02:00 [INF] Route matched with {action = "Create", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(Booking.SharedKernel.Requests.CreateReservationRequest) on controller Booking.WebApi.Controllers.ReservationsController (WebApi).
2025-06-19 17:09:12.007 +02:00 [INF] Entity Framework Core 6.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2025-06-19 17:09:12.347 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."EndTime", "a"."IsReserved", "a"."ServiceId", "a"."StartTime"
FROM "AppointmentSlots" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-06-19 17:09:12.495 +02:00 [ERR] Failed executing DbCommand (13ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Reservations" ("AppointmentSlotId", "ReservedAt", "ServiceId", "UserId")
VALUES (@p0, @p1, @p2, @p3);
SELECT "Id"
FROM "Reservations"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2025-06-19 17:09:12.545 +02:00 [ERR] An exception occurred in the database while saving changes for context type 'Booking.Infrastructure.Data.AppDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'FOREIGN KEY constraint failed'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'FOREIGN KEY constraint failed'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-06-19 17:09:12.552 +02:00 [INF] Executed action Booking.WebApi.Controllers.ReservationsController.Create (WebApi) in 606.088ms
2025-06-19 17:09:12.553 +02:00 [INF] Executed endpoint 'Booking.WebApi.Controllers.ReservationsController.Create (WebApi)'
2025-06-19 17:09:12.560 +02:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'FOREIGN KEY constraint failed'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Booking.Infrastructure.UnitOfWork.UnitOfWork.SaveChangesAsync() in /Users/marcinmistela/RiderProjects/Booking/Booking/Infrastructure/UnitOfWork/UnitOfWork.cs:line 28
   at Booking.WebApi.Controllers.ReservationsController.Create(CreateReservationRequest req) in /Users/marcinmistela/RiderProjects/Booking/Booking/WebApi/Controllers/ReservationsController.cs:line 35
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2025-06-19 17:09:12.599 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:5001/api/reservations application/json 61 - 500 - text/plain;+charset=utf-8 693.9645ms
2025-06-19 17:09:16.938 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:5001/api/reservations application/json 61
2025-06-19 17:09:16.939 +02:00 [INF] Executing endpoint 'Booking.WebApi.Controllers.ReservationsController.Create (WebApi)'
2025-06-19 17:09:16.939 +02:00 [INF] Route matched with {action = "Create", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(Booking.SharedKernel.Requests.CreateReservationRequest) on controller Booking.WebApi.Controllers.ReservationsController (WebApi).
2025-06-19 17:09:16.953 +02:00 [INF] Entity Framework Core 6.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2025-06-19 17:09:16.971 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."EndTime", "a"."IsReserved", "a"."ServiceId", "a"."StartTime"
FROM "AppointmentSlots" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-06-19 17:09:16.974 +02:00 [ERR] Failed executing DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Reservations" ("AppointmentSlotId", "ReservedAt", "ServiceId", "UserId")
VALUES (@p0, @p1, @p2, @p3);
SELECT "Id"
FROM "Reservations"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2025-06-19 17:09:16.981 +02:00 [ERR] An exception occurred in the database while saving changes for context type 'Booking.Infrastructure.Data.AppDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'FOREIGN KEY constraint failed'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'FOREIGN KEY constraint failed'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-06-19 17:09:16.986 +02:00 [INF] Executed action Booking.WebApi.Controllers.ReservationsController.Create (WebApi) in 47.3342ms
2025-06-19 17:09:16.986 +02:00 [INF] Executed endpoint 'Booking.WebApi.Controllers.ReservationsController.Create (WebApi)'
2025-06-19 17:09:16.987 +02:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'FOREIGN KEY constraint failed'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Booking.Infrastructure.UnitOfWork.UnitOfWork.SaveChangesAsync() in /Users/marcinmistela/RiderProjects/Booking/Booking/Infrastructure/UnitOfWork/UnitOfWork.cs:line 28
   at Booking.WebApi.Controllers.ReservationsController.Create(CreateReservationRequest req) in /Users/marcinmistela/RiderProjects/Booking/Booking/WebApi/Controllers/ReservationsController.cs:line 35
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2025-06-19 17:09:16.995 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:5001/api/reservations application/json 61 - 500 - text/plain;+charset=utf-8 57.0871ms
2025-06-19 17:09:21.364 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/reservations - -
2025-06-19 17:09:21.365 +02:00 [INF] Executing endpoint 'Booking.WebApi.Controllers.ReservationsController.GetAll (WebApi)'
2025-06-19 17:09:21.365 +02:00 [INF] Route matched with {action = "GetAll", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Booking.WebApi.Controllers.ReservationsController (WebApi).
2025-06-19 17:09:21.365 +02:00 [INF] Entity Framework Core 6.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2025-06-19 17:09:21.366 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."AppointmentSlotId", "r"."ReservedAt", "r"."ServiceId", "r"."UserId"
FROM "Reservations" AS "r"
2025-06-19 17:09:21.366 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Booking.Domain.Entities.Reservation, Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-19 17:09:21.367 +02:00 [INF] Executed action Booking.WebApi.Controllers.ReservationsController.GetAll (WebApi) in 1.6319ms
2025-06-19 17:09:21.367 +02:00 [INF] Executed endpoint 'Booking.WebApi.Controllers.ReservationsController.GetAll (WebApi)'
2025-06-19 17:09:21.367 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/reservations - - - 200 - application/json;+charset=utf-8 2.2812ms
2025-06-19 17:09:27.654 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/reservations - -
2025-06-19 17:09:27.654 +02:00 [INF] Executing endpoint 'Booking.WebApi.Controllers.ReservationsController.GetAll (WebApi)'
2025-06-19 17:09:27.654 +02:00 [INF] Route matched with {action = "GetAll", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Booking.WebApi.Controllers.ReservationsController (WebApi).
2025-06-19 17:09:27.654 +02:00 [INF] Entity Framework Core 6.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2025-06-19 17:09:27.655 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "r"."Id", "r"."AppointmentSlotId", "r"."ReservedAt", "r"."ServiceId", "r"."UserId"
FROM "Reservations" AS "r"
2025-06-19 17:09:27.655 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Booking.Domain.Entities.Reservation, Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-19 17:09:27.655 +02:00 [INF] Executed action Booking.WebApi.Controllers.ReservationsController.GetAll (WebApi) in 1.1209ms
2025-06-19 17:09:27.655 +02:00 [INF] Executed endpoint 'Booking.WebApi.Controllers.ReservationsController.GetAll (WebApi)'
2025-06-19 17:09:27.655 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/reservations - - - 200 - application/json;+charset=utf-8 1.6408ms
2025-06-19 17:20:07.889 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:5001/api/services application/json 99
2025-06-19 17:20:07.902 +02:00 [INF] Executing endpoint 'Booking.WebApi.Controllers.ServicesController.Create (WebApi)'
2025-06-19 17:20:07.930 +02:00 [INF] Route matched with {action = "Create", controller = "Services"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(Booking.Domain.Entities.Service) on controller Booking.WebApi.Controllers.ServicesController (WebApi).
2025-06-19 17:20:07.948 +02:00 [INF] Entity Framework Core 6.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2025-06-19 17:20:08.120 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[@p0='?' (Size = 6), @p1='?' (DbType = Int32), @p2='?' (Size = 6), @p3='?' (Size = 6)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Services" ("Description", "DurationMinutes", "ImagePath", "Name")
VALUES (@p0, @p1, @p2, @p3);
SELECT "Id"
FROM "Services"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2025-06-19 17:20:08.204 +02:00 [INF] Executing CreatedAtActionResult, writing value of type 'Booking.Domain.Entities.Service'.
2025-06-19 17:20:08.275 +02:00 [INF] Executed action Booking.WebApi.Controllers.ServicesController.Create (WebApi) in 344.9241ms
2025-06-19 17:20:08.275 +02:00 [INF] Executed endpoint 'Booking.WebApi.Controllers.ServicesController.Create (WebApi)'
2025-06-19 17:20:08.275 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:5001/api/services application/json 99 - 201 - application/json;+charset=utf-8 388.9144ms
2025-06-19 17:20:17.199 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:5001/api/services application/json 99
2025-06-19 17:20:17.199 +02:00 [INF] Executing endpoint 'Booking.WebApi.Controllers.ServicesController.Create (WebApi)'
2025-06-19 17:20:17.199 +02:00 [INF] Route matched with {action = "Create", controller = "Services"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(Booking.Domain.Entities.Service) on controller Booking.WebApi.Controllers.ServicesController (WebApi).
2025-06-19 17:20:17.200 +02:00 [INF] Entity Framework Core 6.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2025-06-19 17:20:17.203 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 6), @p1='?' (DbType = Int32), @p2='?' (Size = 6), @p3='?' (Size = 6)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Services" ("Description", "DurationMinutes", "ImagePath", "Name")
VALUES (@p0, @p1, @p2, @p3);
SELECT "Id"
FROM "Services"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2025-06-19 17:20:17.208 +02:00 [INF] Executing CreatedAtActionResult, writing value of type 'Booking.Domain.Entities.Service'.
2025-06-19 17:20:17.208 +02:00 [INF] Executed action Booking.WebApi.Controllers.ServicesController.Create (WebApi) in 8.8484ms
2025-06-19 17:20:17.208 +02:00 [INF] Executed endpoint 'Booking.WebApi.Controllers.ServicesController.Create (WebApi)'
2025-06-19 17:20:17.208 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:5001/api/services application/json 99 - 201 - application/json;+charset=utf-8 9.8710ms
2025-06-19 17:21:09.191 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:5001/api/slots application/json 186
2025-06-19 17:21:09.194 +02:00 [INF] Executing endpoint 'Booking.WebApi.Controllers.SlotsController.Create (WebApi)'
2025-06-19 17:21:09.206 +02:00 [INF] Route matched with {action = "Create", controller = "Slots"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(Booking.Domain.Entities.AppointmentSlot) on controller Booking.WebApi.Controllers.SlotsController (WebApi).
2025-06-19 17:21:09.213 +02:00 [INF] Entity Framework Core 6.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2025-06-19 17:21:09.260 +02:00 [INF] Executed action Booking.WebApi.Controllers.SlotsController.Create (WebApi) in 53.8144ms
2025-06-19 17:21:09.263 +02:00 [INF] Executed endpoint 'Booking.WebApi.Controllers.SlotsController.Create (WebApi)'
2025-06-19 17:21:09.269 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Each parameter in the deserialization constructor on type 'Booking.Domain.Entities.AppointmentSlot' must bind to an object property or field on deserialization. Each parameter name must match with a property or field on the object. Fields are only considered when 'JsonSerializerOptions.IncludeFields' is enabled. The match can be case-insensitive.
   at System.Text.Json.ThrowHelper.ThrowInvalidOperationException_ConstructorParameterIncompleteBinding(Type parentType)
   at System.Text.Json.Serialization.Converters.ObjectWithParameterizedConstructorConverter`1.OnTryRead(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, T& value)
   at System.Text.Json.Serialization.JsonConverter`1.TryRead(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, T& value)
   at System.Text.Json.Serialization.JsonConverter`1.ReadCore(Utf8JsonReader& reader, JsonSerializerOptions options, ReadStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.ReadCoreAsObject(Utf8JsonReader& reader, JsonSerializerOptions options, ReadStack& state)
   at System.Text.Json.JsonSerializer.ReadCore[TValue](Utf8JsonReader& reader, JsonTypeInfo jsonTypeInfo, ReadStack& state)
   at System.Text.Json.JsonSerializer.ContinueDeserialize[TValue](ReadBufferState& bufferState, JsonReaderState& jsonReaderState, ReadStack& readStack, JsonTypeInfo jsonTypeInfo)
   at System.Text.Json.JsonSerializer.ReadFromStreamAsync[TValue](Stream utf8Json, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter.ReadRequestBodyAsync(InputFormatterContext context, Encoding encoding)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter.ReadRequestBodyAsync(InputFormatterContext context, Encoding encoding)
   at Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder.BindModelAsync(ModelBindingContext bindingContext)
   at Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder.BindModelAsync(ActionContext actionContext, IModelBinder modelBinder, IValueProvider valueProvider, ParameterDescriptor parameter, ModelMetadata metadata, Object value, Object container)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerBinderDelegateProvider.<>c__DisplayClass0_0.<<CreateBinderDelegate>g__Bind|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2025-06-19 17:21:09.302 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:5001/api/slots application/json 186 - 500 - text/plain;+charset=utf-8 112.2811ms
2025-06-19 17:21:14.560 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:5001/api/slots application/json 186
2025-06-19 17:21:14.561 +02:00 [INF] Executing endpoint 'Booking.WebApi.Controllers.SlotsController.Create (WebApi)'
2025-06-19 17:21:14.561 +02:00 [INF] Route matched with {action = "Create", controller = "Slots"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(Booking.Domain.Entities.AppointmentSlot) on controller Booking.WebApi.Controllers.SlotsController (WebApi).
2025-06-19 17:21:14.562 +02:00 [INF] Entity Framework Core 6.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2025-06-19 17:21:14.564 +02:00 [INF] Executed action Booking.WebApi.Controllers.SlotsController.Create (WebApi) in 2.4539ms
2025-06-19 17:21:14.564 +02:00 [INF] Executed endpoint 'Booking.WebApi.Controllers.SlotsController.Create (WebApi)'
2025-06-19 17:21:14.570 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Each parameter in the deserialization constructor on type 'Booking.Domain.Entities.AppointmentSlot' must bind to an object property or field on deserialization. Each parameter name must match with a property or field on the object. Fields are only considered when 'JsonSerializerOptions.IncludeFields' is enabled. The match can be case-insensitive.
   at System.Text.Json.ThrowHelper.ThrowInvalidOperationException_ConstructorParameterIncompleteBinding(Type parentType)
   at System.Text.Json.Serialization.Converters.ObjectWithParameterizedConstructorConverter`1.OnTryRead(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, T& value)
   at System.Text.Json.Serialization.JsonConverter`1.TryRead(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, T& value)
   at System.Text.Json.Serialization.JsonConverter`1.ReadCore(Utf8JsonReader& reader, JsonSerializerOptions options, ReadStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.ReadCoreAsObject(Utf8JsonReader& reader, JsonSerializerOptions options, ReadStack& state)
   at System.Text.Json.JsonSerializer.ReadCore[TValue](Utf8JsonReader& reader, JsonTypeInfo jsonTypeInfo, ReadStack& state)
   at System.Text.Json.JsonSerializer.ContinueDeserialize[TValue](ReadBufferState& bufferState, JsonReaderState& jsonReaderState, ReadStack& readStack, JsonTypeInfo jsonTypeInfo)
   at System.Text.Json.JsonSerializer.ReadFromStreamAsync[TValue](Stream utf8Json, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter.ReadRequestBodyAsync(InputFormatterContext context, Encoding encoding)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter.ReadRequestBodyAsync(InputFormatterContext context, Encoding encoding)
   at Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder.BindModelAsync(ModelBindingContext bindingContext)
   at Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder.BindModelAsync(ActionContext actionContext, IModelBinder modelBinder, IValueProvider valueProvider, ParameterDescriptor parameter, ModelMetadata metadata, Object value, Object container)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerBinderDelegateProvider.<>c__DisplayClass0_0.<<CreateBinderDelegate>g__Bind|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2025-06-19 17:21:14.576 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:5001/api/slots application/json 186 - 500 - text/plain;+charset=utf-8 15.2042ms
2025-06-19 17:26:17.713 +02:00 [INF] Application is shutting down...
2025-06-19 17:26:40.649 +02:00 [INF] Entity Framework Core 6.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2025-06-19 17:26:40.857 +02:00 [INF] Executed DbCommand (35ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA journal_mode = 'wal';
2025-06-19 17:26:41.056 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "__EFMigrationsHistory" (
    "MigrationId" TEXT NOT NULL CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY,
    "ProductVersion" TEXT NOT NULL
);
2025-06-19 17:26:41.081 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2025-06-19 17:26:41.085 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-06-19 17:26:41.118 +02:00 [INF] Applying migration '20250619150530_InitialCreate'.
2025-06-19 17:26:41.197 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Services" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_Services" PRIMARY KEY AUTOINCREMENT,
    "Name" TEXT NOT NULL,
    "Description" TEXT NOT NULL,
    "DurationMinutes" INTEGER NOT NULL,
    "ImagePath" TEXT NULL
);
2025-06-19 17:26:41.197 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Users" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_Users" PRIMARY KEY AUTOINCREMENT,
    "Username" TEXT NOT NULL,
    "Email" TEXT NOT NULL,
    "PasswordHash" TEXT NOT NULL,
    "FullName" TEXT NOT NULL,
    "Role" TEXT NOT NULL
);
2025-06-19 17:26:41.198 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AppointmentSlots" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_AppointmentSlots" PRIMARY KEY AUTOINCREMENT,
    "ServiceId" INTEGER NOT NULL,
    "StartTime" TEXT NOT NULL,
    "EndTime" TEXT NOT NULL,
    "IsReserved" INTEGER NOT NULL,
    CONSTRAINT "FK_AppointmentSlots_Services_ServiceId" FOREIGN KEY ("ServiceId") REFERENCES "Services" ("Id") ON DELETE CASCADE
);
2025-06-19 17:26:41.198 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Reservations" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_Reservations" PRIMARY KEY AUTOINCREMENT,
    "UserId" INTEGER NOT NULL,
    "ServiceId" INTEGER NOT NULL,
    "AppointmentSlotId" INTEGER NOT NULL,
    "ReservedAt" TEXT NOT NULL,
    CONSTRAINT "FK_Reservations_AppointmentSlots_AppointmentSlotId" FOREIGN KEY ("AppointmentSlotId") REFERENCES "AppointmentSlots" ("Id") ON DELETE RESTRICT,
    CONSTRAINT "FK_Reservations_Services_ServiceId" FOREIGN KEY ("ServiceId") REFERENCES "Services" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_Reservations_Users_UserId" FOREIGN KEY ("UserId") REFERENCES "Users" ("Id") ON DELETE CASCADE
);
2025-06-19 17:26:41.198 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_AppointmentSlots_ServiceId" ON "AppointmentSlots" ("ServiceId");
2025-06-19 17:26:41.199 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Reservations_AppointmentSlotId" ON "Reservations" ("AppointmentSlotId");
2025-06-19 17:26:41.199 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Reservations_ServiceId" ON "Reservations" ("ServiceId");
2025-06-19 17:26:41.199 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Reservations_UserId" ON "Reservations" ("UserId");
2025-06-19 17:26:41.199 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250619150530_InitialCreate', '6.0.0');
2025-06-19 17:26:55.273 +02:00 [INF] Now listening on: http://localhost:5000
2025-06-19 17:26:55.310 +02:00 [INF] Now listening on: https://localhost:5001
2025-06-19 17:26:55.315 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-19 17:26:55.315 +02:00 [INF] Hosting environment: Production
2025-06-19 17:26:55.315 +02:00 [INF] Content root path: /Users/marcinmistela/RiderProjects/Booking/Booking/WebApi/
2025-06-19 17:27:21.413 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:5001/api/slots application/json 186
2025-06-19 17:27:21.931 +02:00 [INF] Executing endpoint 'Booking.WebApi.Controllers.SlotsController.Create (WebApi)'
2025-06-19 17:27:22.151 +02:00 [INF] Route matched with {action = "Create", controller = "Slots"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(Booking.Domain.Entities.AppointmentSlot) on controller Booking.WebApi.Controllers.SlotsController (WebApi).
2025-06-19 17:27:24.357 +02:00 [INF] Entity Framework Core 6.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2025-06-19 17:27:24.903 +02:00 [INF] Executed action Booking.WebApi.Controllers.SlotsController.Create (WebApi) in 2717.2157ms
2025-06-19 17:27:24.908 +02:00 [INF] Executed endpoint 'Booking.WebApi.Controllers.SlotsController.Create (WebApi)'
2025-06-19 17:27:24.922 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Each parameter in the deserialization constructor on type 'Booking.Domain.Entities.AppointmentSlot' must bind to an object property or field on deserialization. Each parameter name must match with a property or field on the object. Fields are only considered when 'JsonSerializerOptions.IncludeFields' is enabled. The match can be case-insensitive.
   at System.Text.Json.ThrowHelper.ThrowInvalidOperationException_ConstructorParameterIncompleteBinding(Type parentType)
   at System.Text.Json.Serialization.Converters.ObjectWithParameterizedConstructorConverter`1.OnTryRead(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, T& value)
   at System.Text.Json.Serialization.JsonConverter`1.TryRead(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, T& value)
   at System.Text.Json.Serialization.JsonConverter`1.ReadCore(Utf8JsonReader& reader, JsonSerializerOptions options, ReadStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.ReadCoreAsObject(Utf8JsonReader& reader, JsonSerializerOptions options, ReadStack& state)
   at System.Text.Json.JsonSerializer.ReadCore[TValue](Utf8JsonReader& reader, JsonTypeInfo jsonTypeInfo, ReadStack& state)
   at System.Text.Json.JsonSerializer.ContinueDeserialize[TValue](ReadBufferState& bufferState, JsonReaderState& jsonReaderState, ReadStack& readStack, JsonTypeInfo jsonTypeInfo)
   at System.Text.Json.JsonSerializer.ReadFromStreamAsync[TValue](Stream utf8Json, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter.ReadRequestBodyAsync(InputFormatterContext context, Encoding encoding)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter.ReadRequestBodyAsync(InputFormatterContext context, Encoding encoding)
   at Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder.BindModelAsync(ModelBindingContext bindingContext)
   at Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder.BindModelAsync(ActionContext actionContext, IModelBinder modelBinder, IValueProvider valueProvider, ParameterDescriptor parameter, ModelMetadata metadata, Object value, Object container)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerBinderDelegateProvider.<>c__DisplayClass0_0.<<CreateBinderDelegate>g__Bind|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2025-06-19 17:27:25.018 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:5001/api/slots application/json 186 - 500 - text/plain;+charset=utf-8 3752.6271ms
2025-06-19 17:31:18.277 +02:00 [INF] Application is shutting down...
2025-06-19 17:34:21.334 +02:00 [INF] Entity Framework Core 6.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2025-06-19 17:34:21.518 +02:00 [INF] Executed DbCommand (27ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2025-06-19 17:34:21.526 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2025-06-19 17:34:21.533 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-06-19 17:34:21.553 +02:00 [INF] No migrations were applied. The database is already up to date.
2025-06-19 17:34:37.458 +02:00 [INF] Now listening on: http://localhost:5000
2025-06-19 17:34:37.496 +02:00 [INF] Now listening on: https://localhost:5001
2025-06-19 17:34:37.501 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-19 17:34:37.501 +02:00 [INF] Hosting environment: Production
2025-06-19 17:34:37.501 +02:00 [INF] Content root path: /Users/marcinmistela/RiderProjects/Booking/Booking/WebApi/
2025-06-19 17:34:58.672 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/swagger/index.html - -
2025-06-19 17:34:59.044 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/swagger/index.html - - - 200 - text/html;charset=utf-8 388.5631ms
2025-06-19 17:35:00.590 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/swagger/v1/swagger.json - -
2025-06-19 17:35:00.912 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 321.4095ms
2025-06-19 17:35:14.181 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:5001/api/slots application/json 260
2025-06-19 17:35:14.196 +02:00 [INF] Executing endpoint 'Booking.WebApi.Controllers.SlotsController.Create (WebApi)'
2025-06-19 17:35:14.247 +02:00 [INF] Route matched with {action = "Create", controller = "Slots"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(Booking.Domain.Entities.AppointmentSlot) on controller Booking.WebApi.Controllers.SlotsController (WebApi).
2025-06-19 17:35:15.369 +02:00 [INF] Entity Framework Core 6.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2025-06-19 17:35:15.928 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[@p0='?' (Size = 6), @p1='?' (DbType = Int32), @p2='?' (Size = 6), @p3='?' (Size = 6)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Services" ("Description", "DurationMinutes", "ImagePath", "Name")
VALUES (@p0, @p1, @p2, @p3);
SELECT "Id"
FROM "Services"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2025-06-19 17:35:15.969 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p4='?' (DbType = DateTime), @p5='?' (DbType = Boolean), @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AppointmentSlots" ("EndTime", "IsReserved", "ServiceId", "StartTime")
VALUES (@p4, @p5, @p6, @p7);
SELECT "Id"
FROM "AppointmentSlots"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2025-06-19 17:35:16.006 +02:00 [INF] Executing CreatedAtActionResult, writing value of type 'Booking.Domain.Entities.AppointmentSlot'.
2025-06-19 17:35:16.059 +02:00 [INF] Executed action Booking.WebApi.Controllers.SlotsController.Create (WebApi) in 1803.0442ms
2025-06-19 17:35:16.060 +02:00 [INF] Executed endpoint 'Booking.WebApi.Controllers.SlotsController.Create (WebApi)'
2025-06-19 17:35:16.068 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:5001/api/slots application/json 260 - 201 - application/json;+charset=utf-8 1887.8249ms
2025-06-19 17:35:18.180 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:5001/api/slots application/json 260
2025-06-19 17:35:18.182 +02:00 [INF] Executing endpoint 'Booking.WebApi.Controllers.SlotsController.Create (WebApi)'
2025-06-19 17:35:18.182 +02:00 [INF] Route matched with {action = "Create", controller = "Slots"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(Booking.Domain.Entities.AppointmentSlot) on controller Booking.WebApi.Controllers.SlotsController (WebApi).
2025-06-19 17:35:18.257 +02:00 [INF] Entity Framework Core 6.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2025-06-19 17:35:18.259 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 6), @p1='?' (DbType = Int32), @p2='?' (Size = 6), @p3='?' (Size = 6)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Services" ("Description", "DurationMinutes", "ImagePath", "Name")
VALUES (@p0, @p1, @p2, @p3);
SELECT "Id"
FROM "Services"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2025-06-19 17:35:18.261 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p4='?' (DbType = DateTime), @p5='?' (DbType = Boolean), @p6='?' (DbType = Int32), @p7='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AppointmentSlots" ("EndTime", "IsReserved", "ServiceId", "StartTime")
VALUES (@p4, @p5, @p6, @p7);
SELECT "Id"
FROM "AppointmentSlots"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2025-06-19 17:35:18.262 +02:00 [INF] Executing CreatedAtActionResult, writing value of type 'Booking.Domain.Entities.AppointmentSlot'.
2025-06-19 17:35:18.263 +02:00 [INF] Executed action Booking.WebApi.Controllers.SlotsController.Create (WebApi) in 80.2902ms
2025-06-19 17:35:18.263 +02:00 [INF] Executed endpoint 'Booking.WebApi.Controllers.SlotsController.Create (WebApi)'
2025-06-19 17:35:18.263 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:5001/api/slots application/json 260 - 201 - application/json;+charset=utf-8 83.1529ms
2025-06-19 17:35:31.851 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:5001/api/services application/json 98
2025-06-19 17:35:31.852 +02:00 [INF] Executing endpoint 'Booking.WebApi.Controllers.ServicesController.Create (WebApi)'
2025-06-19 17:35:31.855 +02:00 [INF] Route matched with {action = "Create", controller = "Services"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(Booking.Domain.Entities.Service) on controller Booking.WebApi.Controllers.ServicesController (WebApi).
2025-06-19 17:35:31.878 +02:00 [INF] Entity Framework Core 6.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2025-06-19 17:35:31.885 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 6), @p1='?' (DbType = Int32), @p2='?' (Size = 6), @p3='?' (Size = 6)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Services" ("Description", "DurationMinutes", "ImagePath", "Name")
VALUES (@p0, @p1, @p2, @p3);
SELECT "Id"
FROM "Services"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2025-06-19 17:35:31.887 +02:00 [INF] Executing CreatedAtActionResult, writing value of type 'Booking.Domain.Entities.Service'.
2025-06-19 17:35:31.888 +02:00 [INF] Executed action Booking.WebApi.Controllers.ServicesController.Create (WebApi) in 33.2695ms
2025-06-19 17:35:31.889 +02:00 [INF] Executed endpoint 'Booking.WebApi.Controllers.ServicesController.Create (WebApi)'
2025-06-19 17:35:31.889 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:5001/api/services application/json 98 - 201 - application/json;+charset=utf-8 38.4068ms
2025-06-19 17:35:34.345 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:5001/api/services application/json 98
2025-06-19 17:35:34.345 +02:00 [INF] Executing endpoint 'Booking.WebApi.Controllers.ServicesController.Create (WebApi)'
2025-06-19 17:35:34.346 +02:00 [INF] Route matched with {action = "Create", controller = "Services"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(Booking.Domain.Entities.Service) on controller Booking.WebApi.Controllers.ServicesController (WebApi).
2025-06-19 17:35:34.347 +02:00 [INF] Entity Framework Core 6.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2025-06-19 17:35:34.349 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 6), @p1='?' (DbType = Int32), @p2='?' (Size = 6), @p3='?' (Size = 6)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Services" ("Description", "DurationMinutes", "ImagePath", "Name")
VALUES (@p0, @p1, @p2, @p3);
SELECT "Id"
FROM "Services"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2025-06-19 17:35:34.351 +02:00 [INF] Executing CreatedAtActionResult, writing value of type 'Booking.Domain.Entities.Service'.
2025-06-19 17:35:34.379 +02:00 [INF] Executed action Booking.WebApi.Controllers.ServicesController.Create (WebApi) in 33.5648ms
2025-06-19 17:35:34.379 +02:00 [INF] Executed endpoint 'Booking.WebApi.Controllers.ServicesController.Create (WebApi)'
2025-06-19 17:35:34.380 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:5001/api/services application/json 98 - 201 - application/json;+charset=utf-8 34.9921ms
2025-06-19 17:35:49.707 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:5001/api/users application/json 119
2025-06-19 17:35:49.708 +02:00 [INF] Executing endpoint 'Booking.WebApi.Controllers.UsersController.Create (WebApi)'
2025-06-19 17:35:49.715 +02:00 [INF] Route matched with {action = "Create", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(Booking.Domain.Entities.User) on controller Booking.WebApi.Controllers.UsersController (WebApi).
2025-06-19 17:35:49.717 +02:00 [INF] Entity Framework Core 6.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2025-06-19 17:35:49.784 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 6), @p1='?' (Size = 6), @p2='?' (Size = 6), @p3='?' (Size = 6), @p4='?' (Size = 6)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("Email", "FullName", "PasswordHash", "Role", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT "Id"
FROM "Users"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2025-06-19 17:35:49.788 +02:00 [INF] Executing CreatedAtActionResult, writing value of type 'Booking.Domain.Entities.User'.
2025-06-19 17:35:49.789 +02:00 [INF] Executed action Booking.WebApi.Controllers.UsersController.Create (WebApi) in 73.6924ms
2025-06-19 17:35:49.789 +02:00 [INF] Executed endpoint 'Booking.WebApi.Controllers.UsersController.Create (WebApi)'
2025-06-19 17:35:49.790 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:5001/api/users application/json 119 - 201 - application/json;+charset=utf-8 82.9178ms
2025-06-19 17:35:54.143 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:5001/api/users application/json 119
2025-06-19 17:35:54.143 +02:00 [INF] Executing endpoint 'Booking.WebApi.Controllers.UsersController.Create (WebApi)'
2025-06-19 17:35:54.143 +02:00 [INF] Route matched with {action = "Create", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(Booking.Domain.Entities.User) on controller Booking.WebApi.Controllers.UsersController (WebApi).
2025-06-19 17:35:54.144 +02:00 [INF] Entity Framework Core 6.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2025-06-19 17:35:54.145 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 6), @p1='?' (Size = 6), @p2='?' (Size = 6), @p3='?' (Size = 6), @p4='?' (Size = 6)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("Email", "FullName", "PasswordHash", "Role", "Username")
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT "Id"
FROM "Users"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2025-06-19 17:35:54.146 +02:00 [INF] Executing CreatedAtActionResult, writing value of type 'Booking.Domain.Entities.User'.
2025-06-19 17:35:54.147 +02:00 [INF] Executed action Booking.WebApi.Controllers.UsersController.Create (WebApi) in 3.6799ms
2025-06-19 17:35:54.147 +02:00 [INF] Executed endpoint 'Booking.WebApi.Controllers.UsersController.Create (WebApi)'
2025-06-19 17:35:54.147 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:5001/api/users application/json 119 - 201 - application/json;+charset=utf-8 4.7053ms
2025-06-19 17:36:03.448 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/users - -
2025-06-19 17:36:03.449 +02:00 [INF] Executing endpoint 'Booking.WebApi.Controllers.UsersController.GetAll (WebApi)'
2025-06-19 17:36:03.452 +02:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Booking.WebApi.Controllers.UsersController (WebApi).
2025-06-19 17:36:03.452 +02:00 [INF] Entity Framework Core 6.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2025-06-19 17:36:03.732 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."Email", "u"."FullName", "u"."PasswordHash", "u"."Role", "u"."Username"
FROM "Users" AS "u"
2025-06-19 17:36:03.740 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Booking.Domain.Entities.User, Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-19 17:36:03.743 +02:00 [INF] Executed action Booking.WebApi.Controllers.UsersController.GetAll (WebApi) in 290.9961ms
2025-06-19 17:36:03.743 +02:00 [INF] Executed endpoint 'Booking.WebApi.Controllers.UsersController.GetAll (WebApi)'
2025-06-19 17:36:03.743 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/users - - - 200 - application/json;+charset=utf-8 294.5164ms
2025-06-19 17:36:05.786 +02:00 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/users - -
2025-06-19 17:36:05.786 +02:00 [INF] Executing endpoint 'Booking.WebApi.Controllers.UsersController.GetAll (WebApi)'
2025-06-19 17:36:05.787 +02:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller Booking.WebApi.Controllers.UsersController (WebApi).
2025-06-19 17:36:05.787 +02:00 [INF] Entity Framework Core 6.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2025-06-19 17:36:05.789 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."Email", "u"."FullName", "u"."PasswordHash", "u"."Role", "u"."Username"
FROM "Users" AS "u"
2025-06-19 17:36:05.789 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Booking.Domain.Entities.User, Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-19 17:36:05.790 +02:00 [INF] Executed action Booking.WebApi.Controllers.UsersController.GetAll (WebApi) in 2.8901ms
2025-06-19 17:36:05.791 +02:00 [INF] Executed endpoint 'Booking.WebApi.Controllers.UsersController.GetAll (WebApi)'
2025-06-19 17:36:05.791 +02:00 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/users - - - 200 - application/json;+charset=utf-8 4.8509ms
2025-06-19 17:36:26.517 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:5001/api/reservations application/json 61
2025-06-19 17:36:26.518 +02:00 [INF] Executing endpoint 'Booking.WebApi.Controllers.ReservationsController.Create (WebApi)'
2025-06-19 17:36:26.533 +02:00 [INF] Route matched with {action = "Create", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(Booking.SharedKernel.Requests.CreateReservationRequest) on controller Booking.WebApi.Controllers.ReservationsController (WebApi).
2025-06-19 17:36:26.538 +02:00 [INF] Entity Framework Core 6.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2025-06-19 17:36:26.681 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."EndTime", "a"."IsReserved", "a"."ServiceId", "a"."StartTime"
FROM "AppointmentSlots" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-06-19 17:36:26.691 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Reservations" ("AppointmentSlotId", "ReservedAt", "ServiceId", "UserId")
VALUES (@p0, @p1, @p2, @p3);
SELECT "Id"
FROM "Reservations"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2025-06-19 17:36:26.695 +02:00 [INF] Executing CreatedAtActionResult, writing value of type 'Booking.Domain.Entities.Reservation'.
2025-06-19 17:36:26.698 +02:00 [INF] Executed action Booking.WebApi.Controllers.ReservationsController.Create (WebApi) in 165.579ms
2025-06-19 17:36:26.699 +02:00 [INF] Executed endpoint 'Booking.WebApi.Controllers.ReservationsController.Create (WebApi)'
2025-06-19 17:36:26.699 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:5001/api/reservations application/json 61 - 201 - application/json;+charset=utf-8 182.3646ms
2025-06-19 17:36:30.039 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:5001/api/reservations application/json 61
2025-06-19 17:36:30.040 +02:00 [INF] Executing endpoint 'Booking.WebApi.Controllers.ReservationsController.Create (WebApi)'
2025-06-19 17:36:30.040 +02:00 [INF] Route matched with {action = "Create", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(Booking.SharedKernel.Requests.CreateReservationRequest) on controller Booking.WebApi.Controllers.ReservationsController (WebApi).
2025-06-19 17:36:30.041 +02:00 [INF] Entity Framework Core 6.0.0 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2025-06-19 17:36:30.048 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "a"."Id", "a"."EndTime", "a"."IsReserved", "a"."ServiceId", "a"."StartTime"
FROM "AppointmentSlots" AS "a"
WHERE "a"."Id" = @__p_0
LIMIT 1
2025-06-19 17:36:30.051 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Reservations" ("AppointmentSlotId", "ReservedAt", "ServiceId", "UserId")
VALUES (@p0, @p1, @p2, @p3);
SELECT "Id"
FROM "Reservations"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2025-06-19 17:36:30.053 +02:00 [INF] Executing CreatedAtActionResult, writing value of type 'Booking.Domain.Entities.Reservation'.
2025-06-19 17:36:30.054 +02:00 [INF] Executed action Booking.WebApi.Controllers.ReservationsController.Create (WebApi) in 14.2288ms
2025-06-19 17:36:30.054 +02:00 [INF] Executed endpoint 'Booking.WebApi.Controllers.ReservationsController.Create (WebApi)'
2025-06-19 17:36:30.055 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:5001/api/reservations application/json 61 - 201 - application/json;+charset=utf-8 15.2355ms
